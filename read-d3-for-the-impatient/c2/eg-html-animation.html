<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-with,initial-scale=1" />
    <title>d3-eg</title>
    <script src="../assets/js/d3.js"></script>
    <!-- <script src="examples-demo1.js"></script> -->
    <style type="text/css">
      /* ll */
    </style>
  </head>

  <body onload="makeList()">
    <div id="root">hello dom事件</div>
    <!-- <svg id="demo1" width="600" height="300" style="background: whitesmoke" /> -->
    <script type="text/javascript">
      // ..
      function makeList() {
        var vs = ['From East', 'to West,', 'at Home', 'is Best']; //<1>

        d3.select('body') //<2>
          .append('ul')
          .selectAll('li') //<3> 这里返回空元素集合
          .data(vs)
          .enter() //<4>
          .append('li')
          //<5> 添加数据到dom
          .text((d) => d)
          //.text((d) => `<h2>${d}</h2>`) // 注意这里不会显示为html元素；创建元素与设置样式尽量分离
          //.text((d) => `&lt;h2&gt;${d}</h2>`)
          .on('click', function () {
            this.toggleState = !this.toggleState; // <3> <4>
            d3.select(this) // <5> 创建selection是为了使用链式调用
              .transition()
              .duration(1000) // <6>
              .style('color', this.toggleState ? 'red' : 'black'); // <7>
          });
      }
    </script>
  </body>
</html>
